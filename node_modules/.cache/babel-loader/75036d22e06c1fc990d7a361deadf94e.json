{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport notify from '../UseNotifaction';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { createNewUser } from '../../Redux/actions/AuthAction';\nimport { useNavigate } from 'react-router-dom';\n\nconst LogUpHook = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [passwordConfirm, setpasswordConfirm] = useState('');\n  const [loading, setLoading] = useState(true); // input value\n\n  const onChangeName = e => {\n    setName(e.target.value);\n  };\n\n  const onChangeEmail = e => {\n    setEmail(e.target.value);\n  };\n\n  const onChangePasswprd = e => {\n    setPassword(e.target.value);\n  };\n\n  const onChangepasswordConfirm = e => {\n    setpasswordConfirm(e.target.value);\n  }; // Input error\n\n  /* const ValidationValues = () => {\r\n       if (name === \"\") {\r\n           notify(\"Enter Name\", \"error\")\r\n           return;\r\n       }\r\n       if (email === \"\") {\r\n           notify(\"Enter Email\", \"error\")\r\n           return;\r\n       }\r\n       if (password === \"\") {\r\n           notify(\"Enter Password\", \"error\")\r\n           return;\r\n       }\r\n       if (passwordConfirm === \"\") {\r\n           notify(\"ُEnter Confirm Password\", \"error\")\r\n           return;\r\n       }\r\n       if (password !== passwordConfirm) {\r\n           notify(\"من فضلك تاكيد من كلمه السر\", \"error\")\r\n           return;\r\n       }\r\n   }*/\n\n\n  const res = useSelector(state => state.AuthReducer.createUser); // Save Data\n\n  const OnSubmit = async () => {\n    setLoading(true);\n    await dispatch(createNewUser({\n      name,\n      email,\n      password,\n      passwordConfirm\n    }));\n    setLoading(false);\n    console.log(loading);\n  };\n\n  useEffect(() => {\n    if (loading === false) {\n      if (res) {\n        console.log(res);\n\n        if (res.token) {\n          localStorage.setItem(\"token\", res.token);\n          notify(\"You are logged in successfully\", \"success\");\n          setTimeout(() => {\n            navigate('/');\n          }, 2000);\n        }\n\n        if (res.data.errors) {\n          console.log(res.data.errors[0].msg);\n\n          if (res.data.errors[0].msg === \"E-mail already in use\") {\n            notify(\"E-mail already in use\", \"error\");\n          }\n\n          if (res.data.errors[0].msg === \"must be at least 6 chars\") {\n            notify(\"must be at least 6 chars\", \"error\");\n          }\n        }\n      }\n    }\n  }, [loading]);\n  return [name, email, password, passwordConfirm, loading, onChangeName, onChangeEmail, onChangePasswprd, onChangepasswordConfirm, OnSubmit];\n};\n\n_s(LogUpHook, \"PNkSqWr1N/RSSnafDaW1MsE+Ah4=\", false, function () {\n  return [useDispatch, useNavigate, useSelector];\n});\n\n_c = LogUpHook;\nexport default LogUpHook;\n\nvar _c;\n\n$RefreshReg$(_c, \"LogUpHook\");","map":{"version":3,"names":["useState","useEffect","notify","useDispatch","useSelector","createNewUser","useNavigate","LogUpHook","dispatch","navigate","name","setName","email","setEmail","password","setPassword","passwordConfirm","setpasswordConfirm","loading","setLoading","onChangeName","e","target","value","onChangeEmail","onChangePasswprd","onChangepasswordConfirm","res","state","AuthReducer","createUser","OnSubmit","console","log","token","localStorage","setItem","setTimeout","data","errors","msg"],"sources":["C:/Users/hp-Moon/Desktop/react-product-4/react-pro/src/Hook/Auth/LogUpHook.js"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport notify from '../UseNotifaction';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { createNewUser } from '../../Redux/actions/AuthAction';\r\nimport { useNavigate } from 'react-router-dom';\r\nconst LogUpHook = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n\r\n    const [name, setName] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [passwordConfirm, setpasswordConfirm] = useState('')\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    // input value\r\n    const onChangeName = (e) => {\r\n        setName(e.target.value)\r\n    }\r\n    const onChangeEmail = (e) => {\r\n        setEmail(e.target.value)\r\n    }\r\n    const onChangePasswprd = (e) => {\r\n        setPassword(e.target.value)\r\n    }\r\n    const onChangepasswordConfirm = (e) => {\r\n        setpasswordConfirm(e.target.value)\r\n    }\r\n\r\n    // Input error\r\n    /* const ValidationValues = () => {\r\n         if (name === \"\") {\r\n             notify(\"Enter Name\", \"error\")\r\n             return;\r\n         }\r\n         if (email === \"\") {\r\n             notify(\"Enter Email\", \"error\")\r\n             return;\r\n         }\r\n         if (password === \"\") {\r\n             notify(\"Enter Password\", \"error\")\r\n             return;\r\n         }\r\n         if (passwordConfirm === \"\") {\r\n             notify(\"ُEnter Confirm Password\", \"error\")\r\n             return;\r\n         }\r\n         if (password !== passwordConfirm) {\r\n             notify(\"من فضلك تاكيد من كلمه السر\", \"error\")\r\n             return;\r\n         }\r\n     }*/\r\n\r\n    const res = useSelector(state => state.AuthReducer.createUser)\r\n    // Save Data\r\n    const OnSubmit = async () => {\r\n        setLoading(true)\r\n        await dispatch(createNewUser({\r\n            name,\r\n            email,\r\n            password,\r\n            passwordConfirm,\r\n        }))\r\n\r\n        setLoading(false)\r\n        console.log(loading)\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (loading === false) {\r\n            if (res) {\r\n                console.log(res)\r\n                if (res.token) {\r\n                    localStorage.setItem(\"token\", res.token);\r\n                    notify(\"You are logged in successfully\", \"success\")\r\n                    setTimeout(() => {\r\n                        navigate('/')\r\n                    }, 2000);\r\n                }\r\n                if (res.data.errors) {\r\n                    console.log(res.data.errors[0].msg)\r\n                    if (res.data.errors[0].msg === \"E-mail already in use\") {\r\n                        notify(\"E-mail already in use\", \"error\")\r\n                    }\r\n                    if (res.data.errors[0].msg === \"must be at least 6 chars\") {\r\n                        notify(\"must be at least 6 chars\", \"error\")\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n    }, [loading])\r\n\r\n    return [name, email, password, passwordConfirm, loading, onChangeName, onChangeEmail, onChangePasswprd, onChangepasswordConfirm,\r\n        OnSubmit]\r\n}\r\n\r\nexport default LogUpHook"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,aAAT,QAA8B,gCAA9B;AACA,SAASC,WAAT,QAA4B,kBAA5B;;AACA,MAAMC,SAAS,GAAG,MAAM;EAAA;;EAEpB,MAAMC,QAAQ,GAAGL,WAAW,EAA5B;EACA,MAAMM,QAAQ,GAAGH,WAAW,EAA5B;EAEA,MAAM,CAACI,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,EAAD,CAAhC;EACA,MAAM,CAACY,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACc,QAAD,EAAWC,WAAX,IAA0Bf,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACgB,eAAD,EAAkBC,kBAAlB,IAAwCjB,QAAQ,CAAC,EAAD,CAAtD;EACA,MAAM,CAACkB,OAAD,EAAUC,UAAV,IAAwBnB,QAAQ,CAAC,IAAD,CAAtC,CAToB,CAWpB;;EACA,MAAMoB,YAAY,GAAIC,CAAD,IAAO;IACxBV,OAAO,CAACU,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP;EACH,CAFD;;EAGA,MAAMC,aAAa,GAAIH,CAAD,IAAO;IACzBR,QAAQ,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR;EACH,CAFD;;EAGA,MAAME,gBAAgB,GAAIJ,CAAD,IAAO;IAC5BN,WAAW,CAACM,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX;EACH,CAFD;;EAGA,MAAMG,uBAAuB,GAAIL,CAAD,IAAO;IACnCJ,kBAAkB,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB;EACH,CAFD,CArBoB,CAyBpB;;EACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;EAEI,MAAMI,GAAG,GAAGvB,WAAW,CAACwB,KAAK,IAAIA,KAAK,CAACC,WAAN,CAAkBC,UAA5B,CAAvB,CAjDoB,CAkDpB;;EACA,MAAMC,QAAQ,GAAG,YAAY;IACzBZ,UAAU,CAAC,IAAD,CAAV;IACA,MAAMX,QAAQ,CAACH,aAAa,CAAC;MACzBK,IADyB;MAEzBE,KAFyB;MAGzBE,QAHyB;MAIzBE;IAJyB,CAAD,CAAd,CAAd;IAOAG,UAAU,CAAC,KAAD,CAAV;IACAa,OAAO,CAACC,GAAR,CAAYf,OAAZ;EAEH,CAZD;;EAcAjB,SAAS,CAAC,MAAM;IACZ,IAAIiB,OAAO,KAAK,KAAhB,EAAuB;MACnB,IAAIS,GAAJ,EAAS;QACLK,OAAO,CAACC,GAAR,CAAYN,GAAZ;;QACA,IAAIA,GAAG,CAACO,KAAR,EAAe;UACXC,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BT,GAAG,CAACO,KAAlC;UACAhC,MAAM,CAAC,gCAAD,EAAmC,SAAnC,CAAN;UACAmC,UAAU,CAAC,MAAM;YACb5B,QAAQ,CAAC,GAAD,CAAR;UACH,CAFS,EAEP,IAFO,CAAV;QAGH;;QACD,IAAIkB,GAAG,CAACW,IAAJ,CAASC,MAAb,EAAqB;UACjBP,OAAO,CAACC,GAAR,CAAYN,GAAG,CAACW,IAAJ,CAASC,MAAT,CAAgB,CAAhB,EAAmBC,GAA/B;;UACA,IAAIb,GAAG,CAACW,IAAJ,CAASC,MAAT,CAAgB,CAAhB,EAAmBC,GAAnB,KAA2B,uBAA/B,EAAwD;YACpDtC,MAAM,CAAC,uBAAD,EAA0B,OAA1B,CAAN;UACH;;UACD,IAAIyB,GAAG,CAACW,IAAJ,CAASC,MAAT,CAAgB,CAAhB,EAAmBC,GAAnB,KAA2B,0BAA/B,EAA2D;YACvDtC,MAAM,CAAC,0BAAD,EAA6B,OAA7B,CAAN;UACH;QACJ;MAEJ;IACJ;EACJ,CAvBQ,EAuBN,CAACgB,OAAD,CAvBM,CAAT;EAyBA,OAAO,CAACR,IAAD,EAAOE,KAAP,EAAcE,QAAd,EAAwBE,eAAxB,EAAyCE,OAAzC,EAAkDE,YAAlD,EAAgEI,aAAhE,EAA+EC,gBAA/E,EAAiGC,uBAAjG,EACHK,QADG,CAAP;AAEH,CA5FD;;GAAMxB,S;UAEeJ,W,EACAG,W,EA8CLF,W;;;KAjDVG,S;AA8FN,eAAeA,SAAf"},"metadata":{},"sourceType":"module"}